/*!
 * @pluginjs/dom v0.8.3 (https://pluginjs.com)
 * Copyright 2020 Creation Studio Limited
 * Released under the GPL-3.0 License.
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@pluginjs/utils"),r=require("@pluginjs/is"),t=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var n=Array.isArray(r[0])?r[0].reduce((e,t,n)=>e+r[n]+t):r[0],i=document.createElement("div");if(i.innerHTML=n,1===i.children.length)return i.children[0];var o=document.createDocumentFragment();if(i.children.length)for(;i.children.length>0;)o.appendChild(i.children[0]);else for(;i.childNodes.length>0;)o.appendChild(i.childNodes[0]);return o},n=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return Array.from(r.querySelectorAll(e))},i=e.curry((e,r)=>r.querySelector(e)),o=e.curry((e,r)=>Array.from(r.querySelectorAll(e))),s=(e,t)=>(r.isString(e)||void 0!==t||(t=e,e=void 0),r.isElement(t)?r.isString(e)?Array.from(t.children).filter(r=>r.matches(e)):Array.from(t.children):[]),a=e.curry((e,r)=>{var t=r.previousElementSibling;return t?e(t)?t:a(e,t):null}),p=e.curry((e,r)=>{var t=r.nextElementSibling;return t?e(t)?t:p(e,t):null}),l=e.curry((e,r)=>{var t=r.parentNode;return!(!t||t===document)&&(e(t)?t:l(e,t))}),d="__pluginjsData",c=e=>e[d]=e[d]||{},u=(t,n)=>{r.isElement(t)&&void 0===n&&(n=t,t=void 0);var i=c(n);if(t){if(!(t in i)){var o=n.dataset[t]||n.dataset[e.camelize(t,!1)];if(void 0!==o){try{o=JSON.parse(o)}catch(e){}i[t]=o}}return i[t]}return i},f=(e,r,t)=>(c(t)[e]=r,t),m=e.curryWith((e,t,n)=>{if(r.isElement(t)&&void 0===n&&(n=t,t=void 0),"string"==typeof e){if(void 0===t)return u(e,n);f(e,t,n)}else Object.entries(e).forEach(e=>{var[r,t]=e;return f(r,t,n)});return n},r.isElement),x=e.curryWith((e,t,n)=>{if(r.isElement(t)&&void 0===n&&(n=t,t=void 0),"string"==typeof e){if(void 0===t)return n.getAttribute(e);n.setAttribute(e,t)}else Object.entries(e).forEach(e=>{var[r,t]=e;return n.setAttribute(r,t)});return n},r.isElement),v=e.curry((e,r)=>(e.split(" ").forEach(e=>{r.removeAttribute(e)}),r)),h={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},y=e.curryWith((e,t,n)=>{if(r.isElement(t)&&void 0===n&&(n=t,t=void 0),"string"==typeof e){if(void 0===t)return n[h[e]||e];n[h[e]||e]=t}else Object.entries(e).forEach(e=>{var[r,t]=e;n[h[r]||r]=t});return n},r.isElement),g=e.curry((e,r)=>(e.split(" ").forEach(e=>{delete r[e=h[e]||e]}),r)),E=e.curry(e=>e.cloneNode(!0)),S=e.curry(e=>(e.parentNode&&e.parentNode.removeChild(e),e)),b=e.curry(e=>e.remove()),N=e.curry(e=>{for(;e.lastChild;)e.removeChild(e.lastChild);return e}),A=e.curryWith((e,t)=>(r.isString(e)||void 0!==t||(t=e,e=void 0),void 0===e?t.innerHTML:(t.innerHTML=e,t)),r.isElement),L=e.curryWith((e,t)=>(r.isString(e)||void 0!==t||(t=e,e=void 0),void 0===e?t.textContent:(t.textContent=e,t)),r.isElement),M=e.curry((e,t)=>(r.isString(e)?t.insertAdjacentHTML("beforeend",e):t.append(e),t)),H=e.curry((e,n)=>(r.isString(e)&&(e=t(e)),n.append(e),e)),T=e.curry((e,t)=>(r.isString(e)?t.insertAdjacentHTML("afterbegin",e):t.prepend(e),t)),j=e.curry((e,n)=>(r.isString(e)&&(e=t(e)),n.prepend(e),e)),O=e.curry((e,t)=>(r.isString(e)?t.insertAdjacentHTML("beforebegin",e):t.parentNode.insertBefore(e,t),t)),B=e.curry((e,n)=>(r.isString(e)&&(e=t(e)),NodeList.prototype.isPrototypeOf(e)?e.forEach(e=>{n.parentNode.insertBefore(e,n)}):n.parentNode.insertBefore(e,n),e)),C=e.curry((e,t)=>(r.isString(e)?t.insertAdjacentHTML("afterend",e):t.parentNode.insertBefore(e,t.nextElementSibling),t)),P=e.curry((e,n)=>(r.isString(e)&&(e=t(e)),NodeList.prototype.isPrototypeOf(e)?e.forEach(e=>{n.parentNode.insertBefore(e,n.nextElementSibling)}):n.parentNode.insertBefore(e,n.nextElementSibling),e)),W=e.curry((e,n)=>(r.isString(e)&&(e=t(e)),B(e,n),M(n,e),e)),q=e.curry((e,n)=>(r.isString(e)&&(e=t(e)),e.innerHTML=n.innerHTML,n.innerHTML="",n.append(e),n)),w=e.curry((e,n)=>(r.isString(e)&&(e=t(e)),B(e,n[0]),e.append(...n),e)),D=e.curryWith((e,t)=>{r.isString(e)||void 0!==t||(t=e,e=void 0);var n=t.parentNode;return e&&!n.matches(e)||(s(n).forEach(e=>{B(e,n)}),n.remove()),t},r.isElement),_=e.curry((e,n)=>(r.isString(e)&&(e=t(e)),n.parentNode.replaceChild(e,n),n.remove(),e));exports.after=C,exports.append=M,exports.appendTo=H,exports.attr=x,exports.before=O,exports.children=s,exports.clone=E,exports.closest=(e,r)=>r.matches(e)?r:l(r=>r.matches(e),r),exports.contents=e=>"IFRAME"===e.tagName?[e.contentDocument]:e.childNodes,exports.data=m,exports.detach=S,exports.empty=N,exports.find=i,exports.findAll=o,exports.getData=u,exports.has=(e,t)=>r.isString(e)?Boolean(n(e,t).length):t.contains(e),exports.hasData=e=>d in e&&!r.isEmptyObject(e[d]),exports.html=A,exports.indexOf=e=>[...e.parentElement.children].indexOf(e),exports.insertAfter=P,exports.insertBefore=B,exports.next=e=>e.nextElementSibling,exports.nextWith=p,exports.offsetParent=e=>{for(var r=e.offsetParent;r&&"static"===r.style.position;)r=r.offsetParent;return r||document.documentElement},exports.parent=e=>e.parentNode,exports.parentWith=l,exports.parents=(e,t)=>{r.isString(e)||void 0!==t||(t=e,e=void 0);for(var n=[],i=t;r.isElement(i)&&i.parentNode&&i!==document.body.parentNode;)i=i.parentNode,(!e||e&&i.matches(e))&&n.push(i);return n},exports.parseHTML=t,exports.prepend=T,exports.prependTo=j,exports.prev=e=>e.previousElementSibling,exports.prevWith=a,exports.prop=y,exports.query=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return r.querySelector(e)},exports.queryAll=n,exports.remove=b,exports.removeAttr=v,exports.removeData=(e,t)=>(r.isElement(e)&&void 0===t&&(t=e,e=void 0),void 0===e?delete t[d]:delete c(t)[e],t),exports.removeProp=g,exports.replace=_,exports.scrollParent=e=>l(e=>e.scrollHeight>e.clientHeight,e),exports.setData=f,exports.siblings=(e,t)=>(r.isString(e)||void 0!==t||(t=e,e=void 0),r.isElement(t)?s(e,t.parentNode).filter(e=>e!==t):[]),exports.text=L,exports.unwrap=D,exports.wrap=W,exports.wrapAll=w,exports.wrapInner=q;
