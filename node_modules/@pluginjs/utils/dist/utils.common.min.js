/*!
 * @pluginjs/utils v0.8.3 (https://pluginjs.com)
 * Copyright 2020 Creation Studio Limited
 * Released under the GPL-3.0 License.
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("@pluginjs/is");function e(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function t(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,n)}return t}function n(r){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){e(r,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}))}return r}var o=e=>{if(r.isElement(e))return e;if(r.isArray(e))return e.slice();if(r.isDate(e))return new e.constructor(Number(e));if(r.isMap(e))return new Map(e);if(r.isSet(e))return new Set(e);if(r.isSymbol(e))return Symbol.prototype.valueOf?Object(Symbol.prototype.valueOf.call(e)):{};if(r.isRegexp(e)){var t=new e.constructor(e.source,/\w+$/.exec(e));return t.lastIndex=e.lastIndex,t}return r.isError(e)?Object.create(e):r.isPlainObject(e)?Object.assign({},e):e},a=e=>r.isPlainObject(e)?i(e):r.isArray(e)?c(e):o(e),i=e=>{if(r.isPlainObject(e)){var t=new e.constructor;for(var n in e)t[n]=a(e[n]);return t}return e},c=r=>{for(var e=new r.constructor(r.length),t=0;t<r.length;t++)e[t]=a(r[t]);return e};function s(e,t){var n=r.isArray(t),a=r.isArray(e);return r.isUndefined(t)?e:n!==a?o(t):n?o(t):r.isPlainObject(e)&&r.isPlainObject(t)?(Object.keys(t).forEach(r=>{e[r]=s(e[r],t[r])}),e):o(t)}var u=(r,e)=>{if(r===e)return!0;if(void 0===r||void 0===e)return!1;if(r.length!==e.length)return!1;for(var t=0;t<r.length;++t)if(r[t]!==e[t])return!1;return!0},l=(e,t)=>{var n=Object.getOwnPropertyNames(e),o=Object.getOwnPropertyNames(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++){var i=n[a];if(r.isArray(e[i])&&r.isArray(t[i])){if(!u(e[i],t[i]))return!1}else if(r.isObject(e[i])&&r.isObject(t[i])){if(!l(e[i],t[i]))return!1}else if(e[i]!==t[i])return!1}return!0};exports.SvgElement=(r,e)=>{var t=document.createElementNS("http://www.w3.org/2000/svg",r);if(!e)return t;for(var n in e)Object.hasOwnProperty.call(e,n)&&t.setAttribute(n,e[n]);return t},exports.arrayDiff=(r,e)=>r.filter(r=>e.indexOf(r)<0),exports.arrayEqual=u,exports.arrayIntersect=(r,e)=>{var t;return e.length>r.length&&(t=e,e=r,r=t),r.filter(r=>-1!==e.indexOf(r))},exports.camelize=function(r){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return r=r.replace(/[_.\- ]+(\w|$)/g,(r,e)=>e.toUpperCase()),e&&(r=r.substring(0,1).toUpperCase()+r.substring(1)),r},exports.clone=o,exports.compose=function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];var n=function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return e.reduceRight((r,t,n)=>Array.isArray(r)&&n===e.length-1?t(...r):t(r),t)};return n.currylen=e[e.curylen||e.length-1].length,n},exports.convertFloatToPercentage=r=>(r<0?r=0:r>1&&(r=1),"".concat(100*parseFloat(r).toFixed(4),"%")),exports.convertMatrixToArray=r=>!(!r||"matrix"!==r.substr(0,6))&&r.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/),exports.convertPercentageToFloat=r=>parseFloat(r.slice(0,-1)/100,10),exports.curry=function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(){for(var n=e.currylen||e.length,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];var c=t.concat(a);return c.length>=n?e(...c):r(e,c)}},exports.curryWith=function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];var c=a.findIndex(t);if(c>=0){var s=n.concat(...a.slice(0,c+1));return e(...s)}var u=n.concat(...a);return r(e,t,u)}},exports.dasherize=r=>r.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),exports.debounce=function(r){var e,t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];var c=t;e&&(clearTimeout(e),e=null),e=setTimeout(()=>{r.apply(c,a)},n)}},exports.deepClone=a,exports.deepCloneArray=c,exports.deepCloneObject=i,exports.deepMerge=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(r.isObject).reduce(s,{})},exports.each=(e,t)=>{if(r.isArray(e))for(var n=0,o=e.length;n<o;n++)t(e[n],n);else Object.entries(e).map(r=>{var[e,n]=r;return t(e,n)});return e},exports.fromPairs=function(r){return r.reduce((r,e)=>{var[t,o]=e;return n({},r,{[t]:o})},{})},exports.getTime=()=>void 0!==window.performance&&window.performance.now?window.performance.now():Date.now(),exports.getUID=r=>{do{r+=~~(1e6*Math.random())}while(document.getElementById(r));return r},exports.getValueByPath=(r,e)=>{if(Object(r)!==r||void 0===e)return r;if(e in r)return r[e];var t=e.split("."),n=t.length;if(n){for(var o=-1;r&&++o<n;){for(var a=t[o];"\\"===a[a.length-1];)a="".concat(a.slice(0,-1),".").concat(t[++o]);r=r[a]}return r}},exports.merge=function(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return t.forEach(e=>{for(var t in e)r[t]=e[t]}),r},exports.nub=r=>Array.from(new Set(r)),exports.objectEqual=l,exports.parseDataOptions=function(r){return Object.entries(r).reduce((r,e)=>{var[t,o]=e;try{return n({},r,{[t]:JSON.parse('{"data": '.concat(o.replace(/'/g,'"'),"}")).data})}catch(e){return n({},r,{[t]:o})}},{})},exports.range=r=>Array.from({length:r},(r,e)=>e),exports.reflow=r=>r.offsetHeight,exports.throttle=function(r,e){var t=this,n=!1;function o(){n=!1}return void 0!==e||null!==e?function(){var a=t;if(!n){n=!0;for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];r.apply(a,c),window.setTimeout(o,e)}}:function(){for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];var c=t;n||(n=!0,window.requestAnimationFrame(()=>{r.apply(c,a),o()}))}},exports.triggerNative=function(r,e,t){var n=document.createEvent("HTMLEvents");void 0!==t?n.initCustomEvent(e,!0,!0,t):n.initEvent(e,!0,!1),r.dispatchEvent(n)};
